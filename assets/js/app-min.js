function dragElement(e){var n=0,t=0,o=0,c=0;function l(e){(e=e||window.event).preventDefault(),o=e.clientX,c=e.clientY,document.onmouseup=u,document.onmousemove=i}function i(l){(l=l||window.event).preventDefault(),n=o-l.clientX,t=c-l.clientY,o=l.clientX,c=l.clientY,e.style.top=e.offsetTop-t+"px",e.style.left=e.offsetLeft-n+"px"}function u(){document.onmouseup=null,document.onmousemove=null}e.onmousedown=l}$(document).ready(function(){$(".window").each(function(e,n){dragElement(n),$(".app-icon").unbind("click tap touch").on("click tap touch",function(e){e.preventDefault(),console.log("click"),$(this).hasClass("selected")?$(this).removeClass("selected"):($(".app-icon").removeClass("selected"),$(this).addClass("selected"))}),$(".app-icon").unbind("dblclick doubletap").on("dblclick doubletap",function(e){e.preventDefault(),$(".window[data-app="+$(this).data("app")+"]").show()})}),$(".window.message .close").unbind("click tap touch").on("click tap touch",function(){$(this).parent().parent().hide()})});